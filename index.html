<!DOCTYPE html>
<html lang="ru" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <title>Mardikor Pro ‚Äî –ú–∞—Å—Ç–µ—Ä –≤ –≤–∞—à–µ–º –≥–æ—Ä–æ–¥–µ –∑–∞ 60 –º–∏–Ω—É—Ç</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&family=Outfit:wght@400;900&display=swap" rel="stylesheet">
    
    <!-- Leaflet CSS –¥–ª—è –∫–∞—Ä—Ç—ã -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <style>
        :root { --orange: #ff6b00; --deep-black: #050505; }
        body { background-color: var(--deep-black); color: #fff; font-family: 'Plus Jakarta Sans', sans-serif; overflow-x: hidden; }
        .outfit { font-family: 'Outfit', sans-serif; }
        .glass { background: rgba(255, 255, 255, .03); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, .08); }
        
        .reveal { opacity: 0; transform: translateY(30px); transition: 0.8s cubic-bezier(0.2, 0.8, 0.2, 1); }
        .reveal.active { opacity: 1; transform: translateY(0); }

        @keyframes cta-pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 107, 0, 0.4); }
            15% { transform: scale(1.05); box-shadow: 0 0 0 15px rgba(255, 107, 0, 0); }
            30% { transform: scale(1); }
            100% { transform: scale(1); }
        }
        .animate-cta-pulse { animation: cta-pulse 4s infinite cubic-bezier(0.4, 0, 0.2, 1); }

        .service-card { transition: all 0.4s cubic-bezier(0.2, 0.8, 0.2, 1); }
        .service-card:hover { transform: translateY(-10px); background: rgba(255, 107, 0, 0.05); border-color: rgba(255, 107, 0, 0.3); }

        /* –ö–∞—Ä—Ç–∞ */
        #map { width: 100%; height: 100%; border-radius: 64px; filter: invert(100%) hue-rotate(180deg) brightness(95%) contrast(90%); }
        .leaflet-control-attribution { display: none !important; }

        /* –ü—É–ª—å—Å–∏—Ä—É—é—â–∞—è —Ç–æ—á–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–µ */
        .pulse-icon {
            background: #ff6b00;
            border-radius: 50%;
            box-shadow: 0 0 0 rgba(255, 107, 0, 0.4);
            animation: pulse-dot 2s infinite;
        }
        @keyframes pulse-dot {
            0% { box-shadow: 0 0 0 0 rgba(255, 107, 0, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(255, 107, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 107, 0, 0); }
        }
    </style>
</head>
<body>

    <div id="progress-bar-container" class="fixed top-0 left-0 w-full h-1 z-[2000]"><div id="main-progress" class="h-full bg-orange-600 w-0 transition-all duration-300"></div></div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="fixed top-0 left-0 w-full z-[100] px-4 pt-4">
        <div class="max-w-6xl mx-auto glass flex justify-between items-center p-4 rounded-3xl">
            <a href="#" class="flex items-center gap-3">
                <div class="w-10 h-10 bg-orange-600 rounded-2xl flex items-center justify-center font-black">M</div>
                <div class="outfit font-black text-lg tracking-tighter uppercase hidden xs:block">MARDIKOR PRO</div>
            </a>
            <div class="hidden md:flex gap-6">
                <a href="#services" class="text-[10px] font-bold uppercase tracking-widest hover:text-orange-500">–£—Å–ª—É–≥–∏</a>
                <a href="#advantages" class="text-[10px] font-bold uppercase tracking-widest hover:text-orange-500">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</a>
                <a href="#booking" class="text-[10px] font-bold uppercase tracking-widest hover:text-orange-500">–ó–∞–∫–∞–∑–∞—Ç—å</a>
            </div>
            <a href="tel:+998953379990" class="bg-orange-600 px-6 py-3 rounded-2xl text-[10px] font-black uppercase text-white animate-cta-pulse">–°—Ä–æ—á–Ω—ã–π –≤—ã–∑–æ–≤</a>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="relative pt-44 pb-20 px-6 min-h-[90vh] flex flex-col justify-center text-center">
        <div class="max-w-5xl mx-auto">
            <div class="inline-block px-4 py-2 rounded-full bg-orange-600/10 border border-orange-600/20 text-[10px] font-bold uppercase text-orange-500 mb-8 reveal">
                –°–µ—Ä–≤–∏—Å ‚Ññ1 –≤ <span id="header-city">–£–∑–±–µ–∫–∏—Å—Ç–∞–Ω–µ</span>
            </div>
            <h1 class="text-5xl md:text-8xl font-black outfit tracking-tighter mb-8 leading-[0.9] reveal">
                –ú–ê–°–¢–ï–† –ù–ê –î–û–ú <br> <span class="text-orange-500 uppercase">–ó–ê 60 –ú–ò–ù–£–¢</span>
            </h1>
            <p class="text-gray-400 text-lg md:text-xl mb-12 max-w-2xl mx-auto reveal">
                –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–µ–º–æ–Ω—Ç –∏ –±—ã—Ç–æ–≤—ã–µ —É—Å–ª—É–≥–∏ —Å –≥–∞—Ä–∞–Ω—Ç–∏–µ–π. –ú—ã –æ–ø—Ä–µ–¥–µ–ª–∏–º –≤–∞—à–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –≤—ã–µ–∑–¥–∞.
            </p>
            <div class="flex flex-wrap justify-center gap-4 reveal">
                <button onclick="scrollToBooking()" class="bg-orange-600 px-10 py-5 rounded-2xl font-black text-sm uppercase text-white">–ó–∞–∫–∞–∑–∞—Ç—å –º–∞—Å—Ç–µ—Ä–∞</button>
                <a href="tel:+998953379990" class="glass px-10 py-5 rounded-2xl font-black text-sm uppercase text-white">–ü–æ–∑–≤–æ–Ω–∏—Ç—å –Ω–∞–º</a>
            </div>
        </div>
    </section>

    <!-- –£—Å–ª—É–≥–∏ -->
    <section id="services" class="max-w-6xl mx-auto px-6 py-24">
        <h2 class="text-3xl md:text-5xl font-black outfit mb-16 uppercase text-center tracking-tighter">–ù–∞—à–∏ <span class="text-orange-500">—É—Å–ª—É–≥–∏</span></h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="service-card glass p-8 rounded-[32px] reveal">
                <div class="text-4xl mb-6">‚ö°</div>
                <h3 class="text-xl font-bold mb-4">–£—Å–ª—É–≥–∏ —ç–ª–µ–∫—Ç—Ä–∏–∫–∞</h3>
                <p class="text-gray-500 text-sm leading-relaxed mb-6">–†–µ–º–æ–Ω—Ç –ø—Ä–æ–≤–æ–¥–∫–∏, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ª—é—Å—Ç—Ä, —Ä–æ–∑–µ—Ç–æ–∫. –†–µ—à–∏–º –ª—é–±—É—é –ø—Ä–æ–±–ª–µ–º—É —Å —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ–º.</p>
                <ul class="text-[10px] font-bold uppercase tracking-widest text-orange-500 space-y-2">
                    <li>‚Ä¢ –û—Ç 50 000 —Å—É–º</li>
                    <li>‚Ä¢ –ì–∞—Ä–∞–Ω—Ç–∏—è 1 –≥–æ–¥</li>
                </ul>
            </div>
            <div class="service-card glass p-8 rounded-[32px] reveal" style="transition-delay: 0.1s;">
                <div class="text-4xl mb-6">üö∞</div>
                <h3 class="text-xl font-bold mb-4">–°–∞–Ω—Ç–µ—Ö–Ω–∏–∫</h3>
                <p class="text-gray-500 text-sm leading-relaxed mb-6">–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—Å–æ—Ä–æ–≤, —Ä–µ–º–æ–Ω—Ç —Å–º–µ—Å–∏—Ç–µ–ª–µ–π –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∏ –ª—é–±–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.</p>
                <ul class="text-[10px] font-bold uppercase tracking-widest text-orange-500 space-y-2">
                    <li>‚Ä¢ –û—Ç 60 000 —Å—É–º</li>
                    <li>‚Ä¢ –°—Ä–æ—á–Ω—ã–π –≤—ã–µ–∑–¥</li>
                </ul>
            </div>
            <div class="service-card glass p-8 rounded-[32px] reveal" style="transition-delay: 0.2s;">
                <div class="text-4xl mb-6">üõ†</div>
                <h3 class="text-xl font-bold mb-4">–ú—É–∂ –Ω–∞ —á–∞—Å</h3>
                <p class="text-gray-500 text-sm leading-relaxed mb-6">–ú–µ–ª–∫–∏–π —Ä–µ–º–æ–Ω—Ç: –ø–æ–ª–∫–∏, –∫–∞—Ä–Ω–∏–∑—ã, —Å–±–æ—Ä–∫–∞ –º–µ–±–µ–ª–∏ –∏ –ø–æ–º–æ—â—å –ø–æ —Ö–æ–∑—è–π—Å—Ç–≤—É.</p>
                <ul class="text-[10px] font-bold uppercase tracking-widest text-orange-500 space-y-2">
                    <li>‚Ä¢ –û—Ç 40 000 —Å—É–º</li>
                    <li>‚Ä¢ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å —Å–æ–±–æ–π</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏ –ö–ê–†–¢–ê -->
    <section id="advantages" class="bg-white/5 py-24 px-6 overflow-hidden">
        <div class="max-w-6xl mx-auto">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
                <div class="reveal">
                    <h2 class="text-4xl md:text-6xl font-black outfit mb-8 uppercase leading-none">–ü–û–ß–ï–ú–£ <br><span class="text-orange-500">–í–´–ë–ò–†–ê–Æ–¢ –ù–ê–°</span></h2>
                    <div class="space-y-8">
                        <div class="flex gap-6">
                            <div class="w-12 h-12 rounded-2xl bg-orange-600 flex-shrink-0 flex items-center justify-center font-bold">01</div>
                            <div>
                                <h4 class="font-bold mb-2">–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç—å</h4>
                                <p class="text-gray-400 text-sm">–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º GPS-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, —á—Ç–æ–±—ã –Ω–∞–ø—Ä–∞–≤–∏—Ç—å –∫ –≤–∞–º –º–∞—Å—Ç–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –≤–∞—à–µ–º —Ä–∞–π–æ–Ω–µ.</p>
                            </div>
                        </div>
                        <div class="flex gap-6">
                            <div class="w-12 h-12 rounded-2xl bg-orange-600 flex-shrink-0 flex items-center justify-center font-bold">02</div>
                            <div>
                                <h4 class="font-bold mb-2">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∏–∑–º</h4>
                                <p class="text-gray-400 text-sm">–í—Å–µ –º–∞—Å—Ç–µ—Ä–∞ –ø—Ä–æ—Ö–æ–¥—è—Ç —Å—Ç—Ä–æ–≥–∏–π –æ—Ç–±–æ—Ä –∏ –∏–º–µ—é—Ç –ø—Ä–∏ —Å–µ–±–µ –ø–æ–ª–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Ç –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è.</p>
                            </div>
                        </div>
                        <div class="flex gap-6">
                            <div class="w-12 h-12 rounded-2xl bg-orange-600 flex-shrink-0 flex items-center justify-center font-bold">03</div>
                            <div>
                                <h4 class="font-bold mb-2">–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å</h4>
                                <p class="text-gray-400 text-sm">–ß–µ—Å—Ç–Ω—ã–µ —Ü–µ–Ω—ã –±–µ–∑ —Å–∫—Ä—ã—Ç—ã—Ö –¥–æ–ø–ª–∞—Ç. –í—ã –ø–ª–∞—Ç–∏—Ç–µ —Ç–æ–ª—å–∫–æ –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –ë–ª–æ–∫ —Å –ö–∞—Ä—Ç–æ–π –≤–º–µ—Å—Ç–æ —Ñ–æ—Ç–æ -->
                <div class="glass h-[500px] rounded-[64px] relative overflow-hidden reveal border-2 border-orange-600/20">
                    <div id="map"></div>
                    <div class="absolute bottom-8 left-8 right-8 z-[500] pointer-events-none">
                        <div class="glass p-6 rounded-3xl border-orange-600/30">
                            <p class="text-4xl font-black outfit mb-1">98%</p>
                            <p class="text-[10px] font-bold uppercase tracking-widest text-orange-500">–î–æ–≤–æ–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ –°–∞–º–∞—Ä–∫–∞–Ω–¥—É</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- –§–æ—Ä–º–∞ –∑–∞–∫–∞–∑–∞ -->
    <section id="booking" class="max-w-4xl mx-auto px-6 py-24">
        <div class="glass p-8 md:p-16 rounded-[48px] reveal relative overflow-hidden">
            <h2 class="text-3xl md:text-4xl font-black outfit mb-8 uppercase text-center">–û–§–û–†–ú–ò–¢–¨ <span class="text-orange-500">–ó–ê–ö–ê–ó</span></h2>
            
            <form id="proForm" class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <input type="text" id="client_name" placeholder="–í–∞—à–µ –∏–º—è" required class="w-full bg-white/5 border border-white/10 p-5 rounded-2xl text-white outline-none focus:border-orange-600">
                    <input type="tel" id="client_phone" placeholder="+998" required class="w-full bg-white/5 border border-white/10 p-5 rounded-2xl text-white outline-none focus:border-orange-600 font-bold">
                </div>
                <input type="text" id="client_address" placeholder="–ê–¥—Ä–µ—Å (–º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–º —Ç–æ—á–Ω–µ–µ –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è)" required class="w-full bg-white/5 border border-white/10 p-5 rounded-2xl text-white outline-none focus:border-orange-600">
                <textarea id="client_problem" placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏..." class="w-full bg-white/5 border border-white/10 p-5 rounded-2xl text-white outline-none h-32 focus:border-orange-600"></textarea>
                
                <button type="submit" id="submitBtn" class="w-full bg-orange-600 py-6 rounded-2xl font-black uppercase text-sm text-white shadow-xl shadow-orange-600/30">
                    –ü–û–î–¢–í–ï–†–î–ò–¢–¨ –í–´–ó–û–í
                </button>
            </form>

            <div id="status-container" class="mt-8 text-center hidden">
                <div class="bg-green-500/20 text-green-400 px-6 py-4 rounded-2xl border border-green-500/30">
                    <p class="font-bold uppercase text-sm tracking-widest">‚úÖ –ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –ú–∞—Å—Ç–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="py-20 border-t border-white/5 text-center">
        <div class="max-w-6xl mx-auto px-6">
            <div class="flex flex-col md:flex-row justify-between items-center gap-8 mb-12">
                <div class="text-left">
                    <h4 class="outfit font-black text-2xl tracking-tighter uppercase">MARDIKOR PRO</h4>
                    <p class="text-gray-500 text-xs mt-2 uppercase tracking-widest">–í–∞—à –∫–æ–º—Ñ–æ—Ä—Ç ‚Äî –Ω–∞—à–∞ –∑–∞–±–æ—Ç–∞</p>
                </div>
                <div class="flex gap-6 text-xl font-bold">
                    <a href="tel:+998953379990">+998 95 337 99 90</a>
                </div>
            </div>
            <p class="text-[10px] uppercase tracking-[0.5em] text-gray-700 font-bold">¬© 2026 Mardikor Digital | –°–µ—Ä–≤–∏—Å —É—Å–ª—É–≥ –≤ –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω–µ</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        const TG_CONFIG = {
            token: '8278814308:AAFv5klZh68blxKQOUGe7mNSBHkhg5W0EHo',
            chatId: '7813302049'
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã –°–∞–º–∞—Ä–∫–∞–Ω–¥–∞
        function initMap() {
            // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ü–µ–Ω—Ç—Ä–∞ –°–∞–º–∞—Ä–∫–∞–Ω–¥–∞
            const samarkandCoord = [39.6542, 66.9597];
            const map = L.map('map', {
                center: samarkandCoord,
                zoom: 12,
                zoomControl: false,
                dragging: true,
                scrollWheelZoom: false
            });

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ "—Ç–æ—á–µ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤" –ø–æ –≥–æ—Ä–æ–¥—É
            const points = [
                [39.6600, 66.9400], [39.6450, 66.9750], [39.6700, 66.9200],
                [39.6250, 66.9550], [39.6580, 66.9900], [39.6400, 66.9100],
                [39.6800, 66.9600], [39.6100, 66.9300], [39.6542, 66.9597]
            ];

            points.forEach(coord => {
                const pulseIcon = L.divIcon({
                    className: 'pulse-icon',
                    iconSize: [12, 12],
                    iconAnchor: [6, 6]
                });
                L.marker(coord, { icon: pulseIcon }).addTo(map);
            });
        }

        // GPS
        async function getGPSLocation() {
            return new Promise((resolve, reject) => {
                if (!navigator.geolocation) reject("–ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è");
                navigator.geolocation.getCurrentPosition(
                    pos => resolve({ lat: pos.coords.latitude, lon: pos.coords.longitude, acc: pos.coords.accuracy }),
                    err => reject(err.message),
                    { enableHighAccuracy: true, timeout: 8000 }
                );
            });
        }

        // IP
        async function getIPLocation() {
            try {
                const response = await fetch('https://ipapi.co/json/');
                return await response.json();
            } catch (e) { return null; }
        }

        // Header City
        async function setCity() {
            const ip = await getIPLocation();
            if (ip && ip.city) document.getElementById('header-city').innerText = ip.city;
        }

        function scrollToBooking() {
            document.getElementById('booking').scrollIntoView({ behavior: 'smooth' });
            setTimeout(() => document.getElementById('client_name').focus(), 800);
        }

        // Form Logic
        document.getElementById('proForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            const btn = document.getElementById('submitBtn');
            const progress = document.getElementById('main-progress');
            
            btn.disabled = true;
            btn.innerText = '–ü–û–õ–£–ß–ê–ï–ú –ö–û–û–†–î–ò–ù–ê–¢–´...';
            progress.style.width = '30%';

            const data = {
                name: document.getElementById('client_name').value,
                phone: document.getElementById('client_phone').value,
                address: document.getElementById('client_address').value,
                problem: document.getElementById('client_problem').value || '–ù–µ –æ–ø–∏—Å–∞–Ω–æ'
            };

            let locationString = "";
            try {
                const gps = await getGPSLocation();
                locationString += `üìç *GPS:* [–û—Ç–∫—Ä—ã—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ](https://www.google.com/maps?q=${gps.lat},${gps.lon}) (–¢–æ—á–Ω–æ—Å—Ç—å: ${Math.round(gps.acc)}–º)\n`;
            } catch (e) {
                locationString += `üìç *GPS:* –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø\n`;
            }

            const ip = await getIPLocation();
            if (ip) {
                locationString += `üåê *IP:* ${ip.city}, ${ip.org}`;
            }

            progress.style.width = '70%';

            const text = `üö® *–ù–û–í–´–ô –ó–ê–ö–ê–ó*\n\n` +
                         `üë§ *–ò–º—è:* ${data.name}\n` +
                         `üìû *–¢–µ–ª–µ—Ñ–æ–Ω:* ${data.phone}\n` +
                         `üè† *–ê–¥—Ä–µ—Å:* ${data.address}\n` +
                         `üí¨ *–ü—Ä–æ–±–ª–µ–º–∞:* ${data.problem}\n\n` +
                         `${locationString}`;

            try {
                await fetch(`https://api.telegram.org/bot${TG_CONFIG.token}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ chat_id: TG_CONFIG.chatId, text: text, parse_mode: 'Markdown' })
                });
                progress.style.width = '100%';
                btn.innerText = '–ó–ê–Ø–í–ö–ê –ü–†–ò–ù–Ø–¢–ê';
                document.getElementById('status-container').classList.remove('hidden');
                this.reset();
            } catch (err) {
                btn.innerText = '–û–®–ò–ë–ö–ê –°–ï–¢–ò';
                btn.disabled = false;
            }
        });

        // Phone mask
        document.getElementById('client_phone').addEventListener('input', (e) => {
            let v = e.target.value.replace(/\D/g, '');
            if (!v.startsWith('998')) v = '998' + v;
            let res = '+998 ';
            if (v.length > 3) res += '(' + v.substring(3, 5);
            if (v.length > 5) res += ') ' + v.substring(5, 8);
            if (v.length > 8) res += '-' + v.substring(8, 10);
            if (v.length > 10) res += '-' + v.substring(10, 12);
            e.target.value = res.substring(0, 19);
        });

        // Init everything
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('active'); });
        }, { threshold: 0.1 });

        window.onload = () => {
            initMap();
            setCity();
            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
        };
    </script>
</body>
</html>
