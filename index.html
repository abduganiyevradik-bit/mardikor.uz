<!DOCTYPE html>
<html lang="ru" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- SEO & Meta -->
    <title id="meta-title">Mardikor Pro ‚Äî –ú–∞—Å—Ç–µ—Ä –≤ –≤–∞—à–µ–º –≥–æ—Ä–æ–¥–µ –∑–∞ 60 –º–∏–Ω—É—Ç –∏–ª–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ</title>
    <meta name="description" content="–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏: —ç–ª–µ–∫—Ç—Ä–∏–∫–∞, —Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞, —Ä–µ–º–æ–Ω—Ç. –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –≥–∞—Ä–∞–Ω—Ç–∏—è –∏ –≤—ã–µ–∑–¥ –∑–∞ 1 —á–∞—Å.">
    
    <!-- JSON-LD LocalBusiness -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": "Mardikor Pro",
      "image": "https://images.unsplash.com/photo-1581094794329-c8112a89af12",
      "telephone": "+998953379990",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "–°–∞–º–∞—Ä–∫–∞–Ω–¥",
        "addressCountry": "UZ"
      }
    }
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&family=Outfit:wght@400;900&display=swap" rel="stylesheet">

    <style>
        :root { --orange: #ff6b00; --deep-black: #050505; }
        body { background-color: var(--deep-black); color: #fff; font-family: 'Plus Jakarta Sans', sans-serif; overflow-x: hidden; }
        .outfit { font-family: 'Outfit', sans-serif; }

        .shimmer-container { background: #111; position: relative; overflow: hidden; }
        .shimmer-container::after {
            content: ""; position: absolute; top: 0; right: 0; bottom: 0; left: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.05), transparent);
            transform: translateX(-100%); animation: shimmer 2s infinite;
        }
        @keyframes shimmer { 100% { transform: translateX(100%); } }
        .img-ready .shimmer-container::after { display: none; }

        @keyframes cta-pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 107, 0, 0.4); }
            15% { transform: scale(1.05); box-shadow: 0 0 0 15px rgba(255, 107, 0, 0); }
            30% { transform: scale(1); }
            100% { transform: scale(1); }
        }
        .animate-cta-pulse { animation: cta-pulse 4s infinite cubic-bezier(0.4, 0, 0.2, 1); }

        .call-fab {
            position: fixed; right: 20px; bottom: 30px; z-index: 1001;
            width: 64px; height: 64px; background: var(--orange);
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 10px 25px rgba(255, 107, 0, 0.4);
            transition: 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
            border: 2px solid rgba(255,255,255,0.1);
        }
        @media (max-width: 768px) { .call-fab { bottom: 90px; } }

        @keyframes phone-shake {
            0%, 90%, 100% { transform: rotate(0); }
            92% { transform: rotate(-15deg); }
            94% { transform: rotate(15deg); }
            96% { transform: rotate(-15deg); }
            98% { transform: rotate(15deg); }
        }
        .animate-phone-shake { animation: phone-shake 5s infinite; }

        #sticky-urgency { transform: translateY(150%); transition: transform 0.6s cubic-bezier(0.2, 0.8, 0.2, 1); }
        #sticky-urgency.visible { transform: translateY(0); }

        .glass { background: rgba(255, 255, 255, .03); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, .08); }
        .reveal { opacity: 0; transform: translateY(30px); transition: 0.8s cubic-bezier(0.2, 0.8, 0.2, 1); }
        .reveal.active { opacity: 1; transform: translateY(0); }
    </style>
</head>
<body>

    <!-- FAB -->
    <a href="tel:+998953379990" class="call-fab animate-cta-pulse" aria-label="–ü–æ–∑–≤–æ–Ω–∏—Ç—å">
        <svg class="w-7 h-7 text-white animate-phone-shake" fill="currentColor" viewBox="0 0 24 24">
            <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/>
        </svg>
    </a>

    <!-- Nav -->
    <nav id="navbar" class="fixed top-0 left-0 w-full z-[100] px-4 pt-4">
        <div class="max-w-6xl mx-auto glass flex justify-between items-center p-4 rounded-3xl">
            <a href="/" class="flex items-center gap-3">
                <div class="w-10 h-10 bg-orange-600 rounded-2xl flex items-center justify-center font-black">M</div>
                <div class="outfit font-black text-lg tracking-tighter uppercase">MARDIKOR PRO</div>
            </a>
            <div class="hidden md:flex gap-4">
                <a href="#/electrik" class="text-[10px] font-bold uppercase tracking-widest text-gray-400 hover:text-orange-500">–≠–ª–µ–∫—Ç—Ä–∏–∫</a>
                <a href="#/santexnik" class="text-[10px] font-bold uppercase tracking-widest text-gray-400 hover:text-orange-500">–°–∞–Ω—Ç–µ—Ö–Ω–∏–∫</a>
                <a href="#/master" class="text-[10px] font-bold uppercase tracking-widest text-gray-400 hover:text-orange-500">–ú—É–∂ –Ω–∞ —á–∞—Å</a>
            </div>
            <a href="tel:+998953379990" class="bg-orange-600 px-6 py-3 rounded-2xl text-[10px] font-black uppercase text-white animate-cta-pulse">–í—ã–∑–≤–∞—Ç—å</a>
        </div>
    </nav>

    <!-- Hero -->
    <section class="relative pt-44 pb-20 px-6 min-h-screen flex flex-col justify-center text-center">
        <div class="max-w-5xl mx-auto">
            <div class="inline-block px-4 py-2 rounded-full bg-orange-600/10 border border-orange-600/20 text-[10px] font-bold uppercase text-orange-500 mb-8 reveal">
                <span id="current-city">–£–∑–±–µ–∫–∏—Å—Ç–∞–Ω</span> ‚Ä¢ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å
            </div>
            <h1 class="text-5xl md:text-8xl font-black outfit tracking-tighter mb-8 leading-[0.9] reveal">
                –ú–ê–°–¢–ï–† –° –ì–ê–†–ê–ù–¢–ò–ï–ô <br> <span class="text-orange-500 uppercase">–ó–ê 60 –ú–ò–ù–£–¢</span>
            </h1>
            <p class="text-gray-400 text-lg md:text-xl mb-12 max-w-2xl mx-auto reveal">
                –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏ —Ä–µ–º–æ–Ω—Ç–∞ –≤ <span class="city-name-placeholder">–≤–∞—à–µ–º –≥–æ—Ä–æ–¥–µ</span>. –°–∫–∏–¥–∫–∞ 10% –Ω–∞ –ø–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤.
            </p>
            <div class="reveal">
                <button onclick="focusPhone()" class="bg-orange-600 px-12 py-6 rounded-2xl font-black text-sm uppercase text-white shadow-xl shadow-orange-600/20">–í—ã–∑–≤–∞—Ç—å –º–∞—Å—Ç–µ—Ä–∞</button>
            </div>
        </div>
    </section>

    <!-- Form -->
    <section id="booking" class="max-w-4xl mx-auto px-6 py-24">
        <div class="glass p-8 md:p-16 rounded-[48px] reveal">
            <h2 class="text-4xl font-black outfit mb-8 uppercase text-center">–û–§–û–†–ú–ò–¢–¨ <span class="text-orange-500">–í–´–ó–û–í</span></h2>
            <form id="proForm" class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <input type="text" id="client_name" placeholder="–í–∞—à–µ –∏–º—è" required class="w-full bg-white/5 border border-white/10 p-5 rounded-2xl text-white outline-none focus:border-orange-500">
                    <input type="tel" id="client_phone" placeholder="+998" required class="w-full bg-white/5 border border-white/10 p-5 rounded-2xl text-white outline-none focus:border-orange-500 font-bold">
                </div>
                <input type="text" id="client_address" placeholder="–í–∞—à –∞–¥—Ä–µ—Å (—É–ª–∏—Ü–∞, –¥–æ–º, –∫–≤)" required class="w-full bg-white/5 border border-white/10 p-5 rounded-2xl text-white outline-none focus:border-orange-500">
                <textarea id="client_problem" placeholder="–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å?" class="w-full bg-white/5 border border-white/10 p-5 rounded-2xl text-white outline-none focus:border-orange-500 h-32"></textarea>
                <button type="submit" id="submitBtn" class="w-full bg-orange-600 py-6 rounded-2xl font-black uppercase text-sm text-white animate-cta-pulse">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
            </form>
            <div id="status-container" class="mt-8 text-center hidden">
                <div id="status-success" class="bg-green-500/20 text-green-400 px-6 py-3 rounded-full text-xs font-bold uppercase">–ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!</div>
            </div>
        </div>
    </section>

    <!-- Urgency Banner -->
    <div id="sticky-urgency" class="fixed bottom-0 left-0 w-full z-[1000] p-4 pointer-events-none">
        <div class="max-w-2xl mx-auto bg-white text-black p-4 rounded-3xl flex items-center justify-between shadow-2xl pointer-events-auto">
            <div class="flex items-center gap-3 text-[10px] font-black uppercase">
                <span class="flex h-2 w-2 rounded-full bg-orange-600 animate-ping"></span>
                –û—Å—Ç–∞–ª–æ—Å—å <span id="masters-count" class="text-orange-600">5</span> —Å–≤–æ–±–æ–¥–Ω—ã—Ö –º–∞—Å—Ç–µ—Ä–æ–≤
            </div>
            <button onclick="focusPhone()" class="bg-black text-white px-6 py-3 rounded-xl text-[10px] font-black uppercase animate-cta-pulse">–°—Ä–æ—á–Ω—ã–π –≤—ã–∑–æ–≤</button>
        </div>
    </div>

    <script>
        const APP_CONFIG = {
            tg: { token: '8278814308:AAFv5klZh68blxKQOUGe7mNSBHkhg5W0EHo', chatId: '7813302049' },
            localization: { defaultCity: '–£–∑–±–µ–∫–∏—Å—Ç–∞–Ω', map: { 'Samarkand': '–°–∞–º–∞—Ä–∫–∞–Ω–¥', 'Tashkent': '–¢–∞—à–∫–µ–Ω—Ç' } }
        };

        const debounce = (f, w) => { let t; return (...a) => { clearTimeout(t); t = setTimeout(() => f.apply(this, a), w); }; };

        // 1. –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è (GPS)
        async function getLocation() {
            return new Promise((resolve, reject) => {
                if (!navigator.geolocation) reject("Geolocation –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è");
                navigator.geolocation.getCurrentPosition(
                    p => resolve({ lat: p.coords.latitude, lon: p.coords.longitude }),
                    e => reject(e.message),
                    { enableHighAccuracy: true, timeout: 5000 }
                );
            });
        }

        // 2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ IP (Fallback)
        async function detectLocation() {
            try {
                const res = await fetch('https://ipapi.co/json/');
                const data = await res.json();
                const city = APP_CONFIG.localization.map[data.city] || data.city || APP_CONFIG.localization.defaultCity;
                document.getElementById('current-city').innerText = city;
                document.querySelectorAll('.city-name-placeholder').forEach(el => el.innerText = city);
                return city;
            } catch (e) { return APP_CONFIG.localization.defaultCity; }
        }

        const handleScroll = debounce(() => {
            const b = document.getElementById('sticky-urgency');
            if (window.scrollY > 600) b.classList.add('visible');
            else b.classList.remove('visible');
        }, 15);

        window.addEventListener('scroll', handleScroll);

        document.getElementById('proForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            const btn = document.getElementById('submitBtn');
            const status = document.getElementById('status-container');
            
            btn.disabled = true;
            btn.innerText = '–û–ü–†–ï–î–ï–õ–Ø–ï–ú –õ–û–ö–ê–¶–ò–Æ...';

            let locationText = "–ó–∞–ø—Ä–µ—â–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º";
            try {
                const loc = await getLocation();
                locationText = `[–û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç—É](https://www.google.com/maps?q=${loc.lat},${loc.lon})`;
            } catch(e) {
                console.log("GPS access denied, using IP fallback");
                const ipCity = await detectLocation();
                locationText = `–ß–µ—Ä–µ–∑ IP (–≥–æ—Ä–æ–¥: ${ipCity})`;
            }

            const payload = {
                name: document.getElementById('client_name').value,
                phone: document.getElementById('client_phone').value,
                addr: document.getElementById('client_address').value,
                prob: document.getElementById('client_problem').value,
                city: document.getElementById('current-city').innerText
            };

            const msg = `üöÄ *–ù–û–í–ê–Ø –ó–ê–Ø–í–ö–ê*\n\nüìç *–ì–æ—Ä–æ–¥:* ${payload.city}\nüë§ *–ò–º—è:* ${payload.name}\nüìû *–¢–µ–ª:* ${payload.phone}\nüè† *–ê–¥—Ä–µ—Å:* ${payload.addr}\nüõ† *–ü—Ä–æ–±–ª–µ–º–∞:* ${payload.prob}\n\nüõ∞ *–¢–æ—á–Ω–∞—è –ª–æ–∫–∞—Ü–∏—è:* ${locationText}`;

            try {
                await fetch(`https://api.telegram.org/bot${APP_CONFIG.tg.token}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ chat_id: APP_CONFIG.tg.chatId, text: msg, parse_mode: 'Markdown' })
                });
                status.classList.remove('hidden');
                btn.innerText = '–û–¢–ü–†–ê–í–õ–ï–ù–û';
                this.reset();
            } catch (err) {
                btn.innerText = '–û–®–ò–ë–ö–ê';
                btn.disabled = false;
            }
        });

        // Mask
        const phoneInput = document.getElementById('client_phone');
        phoneInput.addEventListener('focus', () => { if (!phoneInput.value) phoneInput.value = '+998 '; });
        phoneInput.addEventListener('input', (e) => {
            let x = e.target.value.replace(/\D/g, '').match(/(\d{0,3})(\d{0,2})(\d{0,3})(\d{0,2})(\d{0,2})/);
            if (!x) return;
            e.target.value = !x[2] ? '+' + x[1] : '+' + x[1] + ' (' + x[2] + ') ' + x[3] + (x[4] ? '-' + x[4] : '') + (x[5] ? '-' + x[5] : '');
        });

        function focusPhone() {
            document.getElementById('booking').scrollIntoView({ behavior: 'smooth' });
            setTimeout(() => document.getElementById('client_name').focus(), 600);
        }

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('active'); });
        }, { threshold: 0.1 });

        window.addEventListener('DOMContentLoaded', () => {
            detectLocation();
            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
        });
    </script>
</body>
</html>
